Search.setIndex({"docnames": ["eqsql", "eqsql.db_tools", "eqsql.eq", "eqsql.proxies", "eqsql.worker_pool", "index"], "filenames": ["eqsql.rst", "eqsql.db_tools.rst", "eqsql.eq.rst", "eqsql.proxies.rst", "eqsql.worker_pool.rst", "index.rst"], "titles": ["eqsql package", "eqsql.db_tools module", "eqsql.eq module", "eqsql.proxies module", "eqsql.worker_pool module", "EQ-SQL API Documentation"], "terms": {"eq": 0, "modul": [0, 5], "eqenviron": [0, 2, 5], "futur": [0, 2, 5], "resultstatu": [0, 2, 5], "stopconditionexcept": [0, 2, 5], "taskstatu": [0, 2, 5], "timeouterror": [0, 2, 5], "as_complet": [0, 2, 5], "cancel": [0, 2, 4, 5], "cancel_worker_pool": [0, 2, 5], "init_task_queu": [0, 2, 5], "pop_complet": [0, 2, 5], "query_worker_pool": [0, 2, 5], "random": [0, 2, 5], "update_prior": [0, 2, 5], "db_tool": [0, 5], "init_eqsql_db": [0, 1, 5], "reset_db": [0, 1, 5], "start_db": [0, 1, 5], "stop_db": [0, 1, 5], "proxi": [0, 5], "app": [0, 3, 5], "dump_proxi": [0, 3, 5], "init": [0, 3, 5], "load_proxi": [0, 3, 5], "worker_pool": [0, 2, 5], "localpool": [0, 2, 4, 5], "scheduledpool": [0, 2, 4, 5], "cfg_file_to_dict": [0, 4, 5], "cfg_tofil": [0, 4, 5], "format_pool_exp_id": [0, 4, 5], "start_local_pool": [0, 4, 5], "start_scheduled_pool": [0, 4, 5], "db_path": 1, "create_db_sql_fil": 1, "none": [1, 2, 4], "db_user": 1, "eqsql_us": 1, "db_name": [1, 2], "eq_sql": [1, 2], "db_port": 1, "creat": [1, 2, 4], "initi": [1, 2], "an": [1, 2, 4], "postgresql": 1, "databas": [1, 2], "thi": [1, 2, 4], "cluster": 1, "specifi": [1, 2], "path": [1, 4], "start": [1, 2, 4], "server": 1, "instanc": [1, 2, 4], "us": [1, 2, 4], "user": [1, 2], "popul": 1, "tabl": [1, 2], "etc": [1, 2, 4], "execut": [1, 2, 4], "command": 1, "file": [1, 4], "stop": [1, 2], "paramet": [1, 2, 3, 4], "str": [1, 2, 4], "must": [1, 2], "exist": 1, "option": [1, 2], "union": [1, 2, 4], "byte": [1, 4], "pathlik": [1, 4], "contain": [1, 2], "sql": [1, 2], "If": [1, 2, 4], "i": [1, 2, 4], "default": [1, 2], "schema": 1, "name": [1, 2, 3, 4], "db_host": 1, "hostnam": 1, "where": [1, 2, 4], "locat": 1, "port": [1, 2], "localhost": 1, "reset": [1, 2], "delet": 1, "content": 1, "all": [1, 2], "restart": 1, "emew": 1, "task": [1, 2], "id": [1, 2, 4], "gener": [1, 2], "sequenc": 1, "int": [1, 2], "pg_ctl": 1, "": [1, 2], "number": [1, 2], "db": [1, 2], "class": [2, 4], "exp_id": [2, 4], "base": [2, 4], "object": [2, 4], "queue_for_pool": [2, 5], "pool": [2, 4], "logger": 2, "queue": [2, 4], "connect": 2, "log": 2, "should": [2, 4], "workflowsql": 2, "submit": 2, "retriev": 2, "from": 2, "are_queues_empti": [2, 5], "eq_typ": 2, "return": [2, 4], "whether": 2, "either": 2, "input": 2, "output": 2, "ar": 2, "empti": 2, "type": [2, 4], "check": 2, "true": 2, "otherwis": 2, "fals": 2, "bool": 2, "clear_queu": [2, 5], "clear": 2, "set": [2, 4], "statu": [2, 4, 5], "those": 2, "note": 2, "onli": [2, 4], "conveni": 2, "method": 2, "coher": 2, "state": [2, 4], "NOT": 2, "close": [2, 5], "termin": 2, "pop_in_queu": [2, 5], "cur": 2, "eq_task_id": 2, "delai": 2, "timeout": [2, 4], "pop": 2, "off": 2, "call": [2, 4], "repeatedli": 2, "poll": 2, "The": [2, 4], "interv": 2, "first": 2, "defin": 2, "valu": 2, "which": 2, "increment": 2, "after": [2, 4], "each": 2, "amount": 2, "time": 2, "timout": 2, "ha": 2, "elaps": 2, "cursor": 2, "float": 2, "durat": [2, 4], "limit": 2, "wait": 2, "tupl": 2, "A": [2, 4], "two": 2, "element": 2, "one": 2, "success": [2, 5], "failur": [2, 5], "On": 2, "second": 2, "eq_abort": 2, "eq_timeout": 2, "depend": 2, "caus": 2, "pop_out_queu": [2, 5], "n": 2, "highest": 2, "prioriti": [2, 5], "work": 2, "out": 2, "maximum": 2, "push_in_queu": [2, 5], "push": 2, "onto": 2, "wa": 2, "successfulli": 2, "push_out_queu": [2, 5], "0": 2, "query_more_task": [2, 5], "batch_siz": 2, "threshold": 2, "1": 2, "5": 2, "2": 2, "queri": 2, "up": 2, "exact": 2, "x": 2, "current": [2, 4], "run": [2, 4, 5], "intent": 2, "here": 2, "worker": [2, 4], "mai": 2, "have": 2, "capac": 2, "get": [2, 4], "more": 2, "than": 2, "keep": 2, "track": 2, "want": 2, "when": 2, "differ": 2, "between": 2, "batch": 2, "size": 2, "greater": 2, "iter": 2, "possibli": 2, "determin": 2, "free": 2, "slot": 2, "avail": 2, "befor": 2, "less": 2, "equal": 2, "list": 2, "plu": 2, "ani": 2, "new": 2, "dictionari": [2, 4], "query_task": [2, 5], "dict": [2, 3, 4], "query_result": [2, 5], "result": [2, 5], "increas": 2, "whose": 2, "case": 2, "reason": 2, "indic": 2, "query_statu": [2, 5], "queu": [2, 5], "singl": 2, "In": 2, "both": 2, "follow": 2, "updat": 2, "format": 2, "payload": 2, "p": 2, "eq_stop": 2, "find": 2, "done": [2, 5], "hasn": 2, "t": 2, "been": 2, "select": 2, "yet": 2, "report_task": [2, 5], "report": 2, "being": 2, "select_task_payload": [2, 5], "worker_pool_id": 2, "json_out": 2, "associ": 2, "eq_task": 2, "ask": 2, "rais": 2, "except": 2, "select_task_result": [2, 5], "json_in": 2, "successful": 2, "stop_worker_pool": [2, 5], "messag": 2, "submit_task": [2, 5], "tag": 2, "encapsul": [2, 4], "submiss": 2, "experi": [2, 4], "part": 2, "metadata": 2, "repres": 2, "essenti": 2, "wrapper": 2, "around": 2, "fail": 2, "sucessfulli": 2, "update_task": [2, 5], "also": 2, "time_stop": 2, "occur": 2, "eventu": 2, "remov": 2, "can": 2, "complet": [2, 4, 5], "alreadi": 2, "properti": 2, "One": 2, "intenum": 2, "enum": 2, "oper": 2, "msg": 2, "stopiterationexcept": 2, "arg": 2, "kwarg": [2, 3], "These": 2, "store": 2, "3": 2, "requeu": [2, 5], "4": 2, "stop_condit": 2, "sleep": 2, "over": 2, "argument": 2, "yield": 2, "thei": 2, "ones": 2, "At": 2, "end": 2, "ad": 2, "while": 2, "NO": 2, "effect": 2, "copi": 2, "do": 2, "within": 2, "everi": 2, "through": 2, "taken": 2, "mani": 2, "callabl": 2, "exampl": [2, 4], "some": [2, 4], "append": 2, "ft": 2, "someth": 2, "env": 2, "task_queu": 2, "uncomplet": 2, "inform": 2, "remain": 2, "togeth": 2, "host": 2, "retry_threshold": 2, "log_level": 2, "30": 2, "cannot": 2, "establish": 2, "e": [2, 4], "g": [2, 4], "too": 2, "retri": 2, "There": 2, "few": 2, "betwen": 2, "level": 2, "look": 2, "same": 2, "new_prior": 2, "integ": 2, "correspond": 2, "func": 3, "store_dir": 3, "tmp": 3, "proxystor": 3, "dump": 3, "proc": 4, "cfg_file": 4, "local": 4, "popen": 4, "launch": 4, "configur": 4, "10": 4, "attempt": 4, "activ": 4, "jobstatu": 4, "jobstat": 4, "attribut": 4, "appropri": 4, "job_id": 4, "schedul": 4, "fx": 4, "60": 4, "read": 4, "bash": 4, "cfg": 4, "cfg_param": 4, "launch_script": 4, "script": 4, "resourc": 4, "job": 4, "sort": 4, "slurm": 4, "funcxexecutor": 4, "assumpt": 4, "function": 4, "funcxexcutor": 4, "remot": 4, "eqsql": 5, "packag": 5, "submodul": 5, "index": 5, "search": 5, "page": 5}, "objects": {"eqsql": [[1, 0, 0, "-", "db_tools"], [2, 0, 0, "-", "eq"], [3, 0, 0, "-", "proxies"], [4, 0, 0, "-", "worker_pool"]], "eqsql.db_tools": [[1, 1, 1, "", "init_eqsql_db"], [1, 1, 1, "", "reset_db"], [1, 1, 1, "", "start_db"], [1, 1, 1, "", "stop_db"]], "eqsql.eq": [[2, 2, 1, "", "EQEnvironment"], [2, 2, 1, "", "EQSQL"], [2, 2, 1, "", "Future"], [2, 2, 1, "", "ResultStatus"], [2, 6, 1, "", "StopConditionException"], [2, 2, 1, "", "TaskStatus"], [2, 6, 1, "", "TimeoutError"], [2, 1, 1, "", "as_completed"], [2, 1, 1, "", "cancel"], [2, 1, 1, "", "cancel_worker_pool"], [2, 1, 1, "", "init_task_queue"], [2, 1, 1, "", "pop_completed"], [2, 1, 1, "", "query_worker_pool"], [2, 1, 1, "", "random"], [2, 1, 1, "", "update_priority"]], "eqsql.eq.EQEnvironment": [[2, 3, 1, "", "queue_for_pool"]], "eqsql.eq.EQSQL": [[2, 3, 1, "", "are_queues_empty"], [2, 3, 1, "", "clear_queues"], [2, 3, 1, "", "close"], [2, 3, 1, "", "pop_in_queue"], [2, 3, 1, "", "pop_out_queue"], [2, 3, 1, "", "push_in_queue"], [2, 3, 1, "", "push_out_queue"], [2, 3, 1, "", "query_more_tasks"], [2, 3, 1, "", "query_result"], [2, 3, 1, "", "query_status"], [2, 3, 1, "", "query_task"], [2, 3, 1, "", "query_worker_pool"], [2, 3, 1, "", "report_task"], [2, 3, 1, "", "select_task_payload"], [2, 3, 1, "", "select_task_result"], [2, 3, 1, "", "stop_worker_pool"], [2, 3, 1, "", "submit_task"], [2, 3, 1, "", "submit_tasks"], [2, 3, 1, "", "update_task"]], "eqsql.eq.Future": [[2, 3, 1, "", "cancel"], [2, 3, 1, "", "done"], [2, 4, 1, "", "priority"], [2, 3, 1, "", "result"], [2, 4, 1, "", "status"], [2, 4, 1, "", "worker_pool"]], "eqsql.eq.ResultStatus": [[2, 5, 1, "", "FAILURE"], [2, 5, 1, "", "SUCCESS"]], "eqsql.eq.TaskStatus": [[2, 5, 1, "", "CANCELED"], [2, 5, 1, "", "COMPLETE"], [2, 5, 1, "", "QUEUED"], [2, 5, 1, "", "REQUEUED"], [2, 5, 1, "", "RUNNING"]], "eqsql.proxies": [[3, 1, 1, "", "app"], [3, 1, 1, "", "dump_proxies"], [3, 1, 1, "", "init"], [3, 1, 1, "", "load_proxies"]], "eqsql.worker_pool": [[4, 2, 1, "", "LocalPool"], [4, 2, 1, "", "ScheduledPool"], [4, 1, 1, "", "cfg_file_to_dict"], [4, 1, 1, "", "cfg_tofile"], [4, 1, 1, "", "format_pool_exp_id"], [4, 1, 1, "", "start_local_pool"], [4, 1, 1, "", "start_scheduled_pool"]], "eqsql.worker_pool.LocalPool": [[4, 3, 1, "", "cancel"], [4, 3, 1, "", "status"]], "eqsql.worker_pool.ScheduledPool": [[4, 3, 1, "", "cancel"], [4, 3, 1, "", "status"]]}, "objtypes": {"0": "py:module", "1": "py:function", "2": "py:class", "3": "py:method", "4": "py:property", "5": "py:attribute", "6": "py:exception"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "function", "Python function"], "2": ["py", "class", "Python class"], "3": ["py", "method", "Python method"], "4": ["py", "property", "Python property"], "5": ["py", "attribute", "Python attribute"], "6": ["py", "exception", "Python exception"]}, "titleterms": {"eqsql": [0, 1, 2, 3, 4], "packag": 0, "submodul": 0, "db_tool": 1, "modul": [1, 2, 3, 4], "eq": [2, 5], "proxi": 3, "worker_pool": 4, "sql": 5, "api": 5, "document": 5, "content": 5, "indic": 5, "tabl": 5}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 57}, "alltitles": {"eqsql package": [[0, "eqsql-package"]], "Submodules": [[0, "submodules"]], "eqsql.db_tools module": [[1, "module-eqsql.db_tools"]], "eqsql.eq module": [[2, "module-eqsql.eq"]], "eqsql.proxies module": [[3, "module-eqsql.proxies"]], "eqsql.worker_pool module": [[4, "module-eqsql.worker_pool"]], "EQ-SQL API Documentation": [[5, "eq-sql-api-documentation"]], "Contents:": [[5, null]], "Indices and tables": [[5, "indices-and-tables"]]}, "indexentries": {"eqsql.db_tools": [[1, "module-eqsql.db_tools"]], "init_eqsql_db() (in module eqsql.db_tools)": [[1, "eqsql.db_tools.init_eqsql_db"]], "module": [[1, "module-eqsql.db_tools"], [2, "module-eqsql.eq"], [3, "module-eqsql.proxies"], [4, "module-eqsql.worker_pool"]], "reset_db() (in module eqsql.db_tools)": [[1, "eqsql.db_tools.reset_db"]], "start_db() (in module eqsql.db_tools)": [[1, "eqsql.db_tools.start_db"]], "stop_db() (in module eqsql.db_tools)": [[1, "eqsql.db_tools.stop_db"]], "canceled (eqsql.eq.taskstatus attribute)": [[2, "eqsql.eq.TaskStatus.CANCELED"]], "complete (eqsql.eq.taskstatus attribute)": [[2, "eqsql.eq.TaskStatus.COMPLETE"]], "eqenvironment (class in eqsql.eq)": [[2, "eqsql.eq.EQEnvironment"]], "eqsql (class in eqsql.eq)": [[2, "eqsql.eq.EQSQL"]], "failure (eqsql.eq.resultstatus attribute)": [[2, "eqsql.eq.ResultStatus.FAILURE"]], "future (class in eqsql.eq)": [[2, "eqsql.eq.Future"]], "queued (eqsql.eq.taskstatus attribute)": [[2, "eqsql.eq.TaskStatus.QUEUED"]], "requeued (eqsql.eq.taskstatus attribute)": [[2, "eqsql.eq.TaskStatus.REQUEUED"]], "running (eqsql.eq.taskstatus attribute)": [[2, "eqsql.eq.TaskStatus.RUNNING"]], "resultstatus (class in eqsql.eq)": [[2, "eqsql.eq.ResultStatus"]], "success (eqsql.eq.resultstatus attribute)": [[2, "eqsql.eq.ResultStatus.SUCCESS"]], "stopconditionexception": [[2, "eqsql.eq.StopConditionException"]], "taskstatus (class in eqsql.eq)": [[2, "eqsql.eq.TaskStatus"]], "timeouterror": [[2, "eqsql.eq.TimeoutError"]], "are_queues_empty() (eqsql.eq.eqsql method)": [[2, "eqsql.eq.EQSQL.are_queues_empty"]], "as_completed() (in module eqsql.eq)": [[2, "eqsql.eq.as_completed"]], "cancel() (eqsql.eq.future method)": [[2, "eqsql.eq.Future.cancel"]], "cancel() (in module eqsql.eq)": [[2, "eqsql.eq.cancel"]], "cancel_worker_pool() (in module eqsql.eq)": [[2, "eqsql.eq.cancel_worker_pool"]], "clear_queues() (eqsql.eq.eqsql method)": [[2, "eqsql.eq.EQSQL.clear_queues"]], "close() (eqsql.eq.eqsql method)": [[2, "eqsql.eq.EQSQL.close"]], "done() (eqsql.eq.future method)": [[2, "eqsql.eq.Future.done"]], "eqsql.eq": [[2, "module-eqsql.eq"]], "init_task_queue() (in module eqsql.eq)": [[2, "eqsql.eq.init_task_queue"]], "pop_completed() (in module eqsql.eq)": [[2, "eqsql.eq.pop_completed"]], "pop_in_queue() (eqsql.eq.eqsql method)": [[2, "eqsql.eq.EQSQL.pop_in_queue"]], "pop_out_queue() (eqsql.eq.eqsql method)": [[2, "eqsql.eq.EQSQL.pop_out_queue"]], "priority (eqsql.eq.future property)": [[2, "eqsql.eq.Future.priority"]], "push_in_queue() (eqsql.eq.eqsql method)": [[2, "eqsql.eq.EQSQL.push_in_queue"]], "push_out_queue() (eqsql.eq.eqsql method)": [[2, "eqsql.eq.EQSQL.push_out_queue"]], "query_more_tasks() (eqsql.eq.eqsql method)": [[2, "eqsql.eq.EQSQL.query_more_tasks"]], "query_result() (eqsql.eq.eqsql method)": [[2, "eqsql.eq.EQSQL.query_result"]], "query_status() (eqsql.eq.eqsql method)": [[2, "eqsql.eq.EQSQL.query_status"]], "query_task() (eqsql.eq.eqsql method)": [[2, "eqsql.eq.EQSQL.query_task"]], "query_worker_pool() (eqsql.eq.eqsql method)": [[2, "eqsql.eq.EQSQL.query_worker_pool"]], "query_worker_pool() (in module eqsql.eq)": [[2, "eqsql.eq.query_worker_pool"]], "queue_for_pool() (eqsql.eq.eqenvironment method)": [[2, "eqsql.eq.EQEnvironment.queue_for_pool"]], "random() (in module eqsql.eq)": [[2, "eqsql.eq.random"]], "report_task() (eqsql.eq.eqsql method)": [[2, "eqsql.eq.EQSQL.report_task"]], "result() (eqsql.eq.future method)": [[2, "eqsql.eq.Future.result"]], "select_task_payload() (eqsql.eq.eqsql method)": [[2, "eqsql.eq.EQSQL.select_task_payload"]], "select_task_result() (eqsql.eq.eqsql method)": [[2, "eqsql.eq.EQSQL.select_task_result"]], "status (eqsql.eq.future property)": [[2, "eqsql.eq.Future.status"]], "stop_worker_pool() (eqsql.eq.eqsql method)": [[2, "eqsql.eq.EQSQL.stop_worker_pool"]], "submit_task() (eqsql.eq.eqsql method)": [[2, "eqsql.eq.EQSQL.submit_task"]], "submit_tasks() (eqsql.eq.eqsql method)": [[2, "eqsql.eq.EQSQL.submit_tasks"]], "update_priority() (in module eqsql.eq)": [[2, "eqsql.eq.update_priority"]], "update_task() (eqsql.eq.eqsql method)": [[2, "eqsql.eq.EQSQL.update_task"]], "worker_pool (eqsql.eq.future property)": [[2, "eqsql.eq.Future.worker_pool"]], "app() (in module eqsql.proxies)": [[3, "eqsql.proxies.app"]], "dump_proxies() (in module eqsql.proxies)": [[3, "eqsql.proxies.dump_proxies"]], "eqsql.proxies": [[3, "module-eqsql.proxies"]], "init() (in module eqsql.proxies)": [[3, "eqsql.proxies.init"]], "load_proxies() (in module eqsql.proxies)": [[3, "eqsql.proxies.load_proxies"]], "localpool (class in eqsql.worker_pool)": [[4, "eqsql.worker_pool.LocalPool"]], "scheduledpool (class in eqsql.worker_pool)": [[4, "eqsql.worker_pool.ScheduledPool"]], "cancel() (eqsql.worker_pool.localpool method)": [[4, "eqsql.worker_pool.LocalPool.cancel"]], "cancel() (eqsql.worker_pool.scheduledpool method)": [[4, "eqsql.worker_pool.ScheduledPool.cancel"]], "cfg_file_to_dict() (in module eqsql.worker_pool)": [[4, "eqsql.worker_pool.cfg_file_to_dict"]], "cfg_tofile() (in module eqsql.worker_pool)": [[4, "eqsql.worker_pool.cfg_tofile"]], "eqsql.worker_pool": [[4, "module-eqsql.worker_pool"]], "format_pool_exp_id() (in module eqsql.worker_pool)": [[4, "eqsql.worker_pool.format_pool_exp_id"]], "start_local_pool() (in module eqsql.worker_pool)": [[4, "eqsql.worker_pool.start_local_pool"]], "start_scheduled_pool() (in module eqsql.worker_pool)": [[4, "eqsql.worker_pool.start_scheduled_pool"]], "status() (eqsql.worker_pool.localpool method)": [[4, "eqsql.worker_pool.LocalPool.status"]], "status() (eqsql.worker_pool.scheduledpool method)": [[4, "eqsql.worker_pool.ScheduledPool.status"]]}})